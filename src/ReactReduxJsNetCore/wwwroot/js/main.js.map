{"version":3,"sources":["webpack:///./app/index.js","webpack:///./app/components/App.js","webpack:///./app/containers/VisibleCommentBox.js","webpack:///./app/actions/index.js","webpack:///./app/components/CommentBox.js","webpack:///./app/components/CommentList.js","webpack:///./app/components/Comment.js","webpack:///./app/components/CommentForm.js","webpack:///./app/configureStore.js","webpack:///./app/reducers/index.js","webpack:///./app/reducers/commentbox.js"],"names":["store","document","getElementById","App","actions","mapStateToProps","state","loading","commentBoxApp","error","comments","mapDispatchToProps","dispatch","loadComments","addComment","comment","VisibleCommentBox","LOAD_COMMENTS_REQUEST","LOAD_COMMENTS_SUCCESS","LOAD_COMMENTS_ERROR","ADD_COMMENT_REQUEST","ADD_COMMENT_SUCCESS","ADD_COMMENT_ERROR","DELETE_COMMENT_REQUEST","DELETE_COMMENT_SUCCESS","DELETE_COMMENT_ERROR","nextCommentId","url","loadCommentsRequest","then","response","json","loadCommentsSuccess","catch","loadCommentsError","type","data","addCommentRequest","method","mode","headers","body","JSON","stringify","addCommentSuccess","addCommentError","id","deleteComment","deleteCommentRequest","deleteCommentSuccess","deleteCommentError","CommentBox","props","handleCommentSubmit","bind","propTypes","bool","isRequired","array","CommentList","commentNodes","Object","keys","forEach","key","push","author","text","Comment","handleCommentDelete","e","preventDefault","children","CommentForm","value","trim","node","configureStore","loggerMiddleware","preloadedState","app","initState","currentComment","action"],"mappings":"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","file":"main.js","sourcesContent":["import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport App from './components/App'\r\nimport configureStore from './configureStore';\r\n\r\nconst store = configureStore();\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('content')\r\n)\n\n\n/** WEBPACK FOOTER **\n ** ./app/index.js\n **/","import React from 'react';\r\nimport VisibleCommentBox from '../containers/VisibleCommentBox';\r\n\r\nconst App = () => (\r\n  <div>\r\n    <VisibleCommentBox />\r\n  </div>\r\n)\r\n\r\nexport default App\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/App.js\n **/","import { connect } from 'react-redux'; \r\nimport * as actions from '../actions';\r\nimport CommentBox from '../components/CommentBox'\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        loading: state.commentBoxApp.loading,\r\n        error: state.commentBoxApp.error,\r\n        comments: state.commentBoxApp.comments\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        loadComments: () => {\r\n            dispatch(actions.loadComments());\r\n        },\r\n        addComment: (comment) => {\r\n            dispatch(actions.addComment(comment));\r\n        }\r\n    }\r\n}\r\n\r\nconst VisibleCommentBox = connect(\r\n   mapStateToProps, \r\n   mapDispatchToProps\r\n)(CommentBox);\r\n\r\nexport default VisibleCommentBox;\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/containers/VisibleCommentBox.js\n **/","import fetch from 'isomorphic-fetch';\r\n\r\nexport const LOAD_COMMENTS_REQUEST = 'LOAD_COMMENTS_REQUEST';\r\nexport const LOAD_COMMENTS_SUCCESS = 'LOAD_COMMENTS_SUCCESS';\r\nexport const LOAD_COMMENTS_ERROR = 'LOAD_COMMENTS_ERROR';\r\nexport const ADD_COMMENT_REQUEST = 'ADD_COMMENT_REQUEST';\r\nexport const ADD_COMMENT_SUCCESS = 'ADD_COMMENT_SUCCESS';\r\nexport const ADD_COMMENT_ERROR = 'ADD_COMMENT_ERROR';\r\nexport const DELETE_COMMENT_REQUEST = 'DELETE_COMMENT_REQUEST';\r\nexport const DELETE_COMMENT_SUCCESS = 'DELETE_COMMENT_SUCCESS';\r\nexport const DELETE_COMMENT_ERROR = 'DELETE_COMMENTS_ERROR';\r\n\r\nlet nextCommentId = 0;\r\n\r\nconst url = 'api/Comment';\r\n\r\nexport function loadComments() {\r\n    return function (dispatch) {\r\n        dispatch(loadCommentsRequest());\r\n        return fetch(url)\r\n            .then(response => response.json())\r\n            .then(json => dispatch(loadCommentsSuccess(json)))\r\n            .catch(error => dispatch(loadCommentsError(error)));\r\n    }\r\n}\r\n\r\n\r\nexport const loadCommentsRequest = () => {\r\n    return {\r\n        type:LOAD_COMMENTS_REQUEST\r\n    };\r\n}\r\n\r\nexport const loadCommentsSuccess = (data) => {\r\n    return {\r\n        type:LOAD_COMMENTS_SUCCESS,\r\n        data\r\n    };\r\n}\r\n\r\nexport const loadCommentsError = (error) => {\r\n    return {\r\n        type:LOAD_COMMENTS_ERROR,\r\n        error\r\n    };\r\n}\r\n\r\nexport const addComment = (comment) => {\r\n    return dispatch => {\r\n        dispatch(addCommentRequest());\r\n        return fetch(url, {\r\n                method: 'POST',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(comment)\r\n             })\r\n            .then(response => response.json())\r\n            .then(json => dispatch(addCommentSuccess(json)))\r\n            .catch(error => dispatch(addCommentError(error)));\r\n    }\r\n}\r\n\r\nexport const addCommentRequest = () => {\r\n    return {\r\n        type: ADD_COMMENT_REQUEST\r\n    }\r\n}\r\n\r\nexport const addCommentSuccess = (comment) => {\r\n    return {\r\n        type: ADD_COMMENT_SUCCESS,  \r\n        id: nextCommentId++,\r\n        comment\r\n    }\r\n}\r\n\r\nexport const addCommentError = (error) => {\r\n    return {\r\n        type: ADD_COMMENT_ERROR,  \r\n        error\r\n    }\r\n}\r\n\r\nexport const deleteComment = (id) => {\r\n    return dispatch => {\r\n        dispatch(deleteCommentRequest());\r\n        return fetch(url + \"/\" + id, {\r\n            method: 'DELETE'\r\n        })\r\n        .then(response => response.json())\r\n        .then(json => dispatch(deleteCommentSuccess(json)))\r\n        .catch(error => dispatch(deleteCommentError(error)));\r\n    }\r\n}\r\n\r\nexport const deleteCommentRequest = () => {\r\n    return {\r\n        type: DELETE_COMMENT_REQUEST\r\n    }\r\n}\r\n\r\nexport const deleteCommentSuccess = (id) => {\r\n    return {\r\n        type: DELETE_COMMENT_SUCCESS,  \r\n        id\r\n    }\r\n}\r\n\r\nexport const deleteCommentError = (error) => {\r\n    return {\r\n        type: DELETE_COMMENT_ERROR,  \r\n        error\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/actions/index.js\n **/","import React, { Component, PropTypes } from 'react';\r\nimport CommentList from './CommentList';\r\nimport CommentForm from './CommentForm';\r\n\r\nclass CommentBox extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.handleCommentSubmit = this.handleCommentSubmit.bind(this);\r\n    }\r\n\r\n    handleCommentSubmit (comment) {\r\n        this.props.addComment(comment);\r\n    }\r\n    componentDidMount() {\r\n        this.props.loadComments();\r\n    }\r\n    render() {\r\n\r\n        const { loading, comments } = this.props;\r\n\r\n        return (\r\n            \r\n            <div className=\"commentBox\">\r\n                {loading  ? <p>Loading...</p> : null }                \r\n                <div>\r\n                    <h2>Comments</h2>\r\n                    <CommentList comments = {comments} />\r\n                    <CommentForm onCommentSubmit={this.handleCommentSubmit} />\r\n                </div>\r\n            </div>\r\n        );\r\n        }\r\n    }\r\n\r\nCommentBox.propTypes = {\r\n    loading: PropTypes.bool.isRequired,\r\n    comments: PropTypes.array.isRequired\r\n}\r\n\r\nexport default CommentBox;\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/CommentBox.js\n **/","import React from 'react';\r\nimport Comment from './Comment';\r\n\r\nconst CommentList = (props) =>  {\r\n    let commentNodes = [];\r\n\r\n    Object.keys(props.comments).forEach(function (key) {\r\n        commentNodes.push(\r\n            <Comment author={props.comments[key].author} key={key} id={key}>\r\n                {props.comments[key].text}\r\n            </Comment>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className=\"commentList\">\r\n            {commentNodes}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CommentList;\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/CommentList.js\n **/","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { deleteComment } from '../actions';\r\n\r\nclass Comment extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.handleCommentDelete = this.handleCommentDelete.bind(this);\r\n    }\r\n\r\n    handleCommentDelete (e) {\r\n        e.preventDefault();\r\n        this.props.dispatch(deleteComment(this.props.id));\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"comment\">\r\n            <dl>\r\n                <dt className=\"commentAuthor\">\r\n                    {this.props.author}\r\n                </dt>\r\n                <dd>\r\n                    {this.props.children}\r\n                    <br />\r\n                    <input type=\"button\" value=\"Delete\" className=\"btn btn-danger\" onClick={this.handleCommentDelete} />\r\n                </dd>              \r\n            </dl>              \r\n            </div>\r\n        );\r\n    }\r\n};\r\nexport default connect()(Comment);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/Comment.js\n **/","import React from 'react';\r\nimport { connect } from 'react-redux'; \r\nimport { addComment } from '../actions'\r\n\r\nlet CommentForm = ({ dispatch }) => {\r\n\r\n    let author, text;\r\n\r\n    return (\r\n        <div className=\"commentForm\">\r\n        <form className=\"commentForm form-inline\" role=\"form\" onSubmit={e => {\r\n            e.preventDefault();\r\n    if (!author.value.trim() || !author.value.trim()) {\r\n        return;\r\n    }\r\n    dispatch(addComment({ author: author.value, text: text.value }));\r\n    author.value = '', text.value = '';\r\n}}>\r\n        <input type=\"text\" placeholder=\"Your name\" ref={node => {author = node;}} className = \"form-control\" />\r\n        <input type=\"text\" placeholder=\"Say something...\" ref={node => { text = node;}} className = \"form-control\" />\r\n        <input type=\"submit\" value=\"Post\" className = \"btn btn-primary\" />\r\n        </form>\r\n        </div>\r\n    );\r\n}\r\nCommentForm = connect()(CommentForm);\r\n\r\nexport default CommentForm;\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/CommentForm.js\n **/","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport createLogger from 'redux-logger';\r\nimport app from './reducers';\r\n\r\nconst loggerMiddleware = createLogger();\r\n\r\nexport default function configureStore(preloadedState) {\r\n    return createStore(\r\n        app,\r\n        preloadedState,\r\n        applyMiddleware(\r\n            thunkMiddleware,\r\n            loggerMiddleware\r\n        )\r\n    );\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/configureStore.js\n **/","import { combineReducers } from 'redux'\r\nimport commentBoxApp from './commentbox'\r\n\r\nconst app = combineReducers({\r\n    commentBoxApp\r\n});\r\n\r\nexport default app\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers/index.js\n **/","\r\n\r\nimport {\r\n    LOAD_COMMENTS_REQUEST,\r\n    LOAD_COMMENTS_ERROR,\r\n    LOAD_COMMENTS_SUCCESS,\r\n    ADD_COMMENT_REQUEST,\r\n    ADD_COMMENT_ERROR,\r\n    ADD_COMMENT_SUCCESS,\r\n    DELETE_COMMENT_REQUEST,\r\n    DELETE_COMMENT_ERROR,\r\n    DELETE_COMMENT_SUCCESS} from '../actions';\r\n\r\nconst initState = {\r\n    loading: false,\r\n    error: null,\r\n    comments: [],\r\n    currentComment: { author: '', text: '' }\r\n};\r\n\r\nconst commentBoxApp = (state = initState, action) => {\r\n    switch(action.type) {\r\n        \r\n        case LOAD_COMMENTS_REQUEST:\r\n        case ADD_COMMENT_REQUEST:\r\n        case DELETE_COMMENT_REQUEST: {\r\n            return {\r\n              ...state,\r\n                loading: true\r\n            };\r\n        }\r\n\r\n        case LOAD_COMMENTS_SUCCESS:\r\n        {\r\n\r\n            let comments = [];\r\n           \r\n            for (var comment of action.data) {\r\n                comments[comment.id] = { author: comment.author, text: comment.text }\r\n            }\r\n            \r\n\r\n            return {\r\n              ...state,\r\n                loading: false,\r\n                error: null,\r\n                comments: comments\r\n            };\r\n        }\r\n\r\n        case ADD_COMMENT_SUCCESS:\r\n        {\r\n            let comments = state.comments;\r\n            comments[action.comment.id] = { author: action.comment.author, text: action.comment.text }\r\n\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: null,\r\n                comments: comments\r\n        };\r\n        }\r\n\r\n        case DELETE_COMMENT_SUCCESS: {\r\n\r\n            let comments = state.comments;\r\n\r\n            delete comments[action.id];\r\n\r\n            return {\r\n              ...state,\r\n                loading: false,\r\n                error: null,\r\n                comments: comments\r\n            };\r\n        }\r\n\r\n        case LOAD_COMMENTS_ERROR:\r\n        case ADD_COMMENT_ERROR:\r\n        case DELETE_COMMENT_ERROR: {\r\n            return {\r\n              ...state,\r\n                loading: false,\r\n                error: action.error\r\n            };\r\n        }    \r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport default commentBoxApp;\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers/commentbox.js\n **/"],"sourceRoot":""}